self.addEventListener("push",function(n){if(!n.data)return;let i;try{i=n.data.json()}catch(t){i={title:"Holiday Planner",body:n.data.text()}}const t={body:i.body||"You have a new notification",icon:i.icon||"/icons/icon-192x192.png",badge:i.badge||"/icons/badge-72x72.png",data:i.data||{},vibrate:[100,50,100],requireInteraction:!1,tag:"holiday-planner-notification"};n.waitUntil(self.registration.showNotification(i.title||"Holiday Planner",t))}),self.addEventListener("notificationclick",function(n){var i;n.notification.close();const t=(null===(i=n.notification.data)||void 0===i?void 0:i.url)||"/";n.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){for(const i of n)if(i.url.includes(self.location.origin)&&"focus"in i)return i.navigate(t),i.focus();return clients.openWindow(t)}))});